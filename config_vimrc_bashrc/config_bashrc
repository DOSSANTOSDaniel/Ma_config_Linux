
################################################## 

### Alias perso ###
# SSH
alias oli='ssh -o "ServerAliveInterval 60" -X -p 2*** mangkone@87.*.*.*
alias duino='ssh root@192.168.*.*
alias pve1='ssh root@192.168.*.*
alias omv='ssh root@192.168.*.*
alias rasp='ssh -p 2*** daniel@192.168.*.*
alias next='ssh daniel@192.168.*.*

# Wake on lan
alias pveon='wakeonlan e8.*.*.*.*.*'

# Update
alias maj='sudo apt update && sudo apt full-upgrade --allow-downgrades -y && sudo apt autoremove --purge -y && sudo apt autoclean && sudo snap refresh && sudo flatpak update -y && echo -e "\n MAJ OK ! \n"'

# Secu
alias rm='rm -i'
alias mv='mv -b'
alias cp='cp -b'


### Functions perso ###
cpoli() {
  rsync -avrz -e 'ssh -p 2***' --progress --partial --stats ${1} mangkone@87.*.*.*
}

olicp() {
  rsync -avrz -e 'ssh -p 2***' --progress --partial --stats mangkone@87.*.*.*
}

pong() {
  if [[ $(ping -c 1 google.fr) ]]
  then
    echo -e "\t\t\t\t !¡! Ping OK !¡! \n"
  else
    if [[ $(ping -c 1 8.8.8.8) ]]
    then
      echo -e "\t\t\t\t !¡!¡!¡!¡ << Erreur: DNS >> !¡!¡!¡!¡ \n"
    else
      echo -e "\t\t\t\t !¡!¡!¡!¡ << Erreur: Connexion Internet ADSL >> !¡!¡!¡!¡ \n"
    fi
  fi
}

banner() {
  echo -e "\n"
  echo -e "\t\t\t\t $(/bin/date)"
  echo
  echo "Login: ${LOGNAME}"
  echo
  echo "Host: ${HOSTNAME}"
  echo
  echo "IP: $(hostname -I)"
  echo
  echo "Bash: ${BASH_VERSION}"
  echo
  echo "Kernel: $(cat /proc/sys/kernel/osrelease)"
  echo
  uptime | cut -d " " -f10-15
  echo
  df -h -t ext4
}

### Prompt perso ###

if [ "$EUID" -eq 0 ]
then
  hostname_color='\[\033[1;31m\]'
  user_color='\[\033[1;31m\]'
  symbol=💀
  brackets_color='\[\033[32m\]'
  dir_color='\[\033[1;33m\]'
else
  hostname_color='\[\033[34m\]'
  user_color='\[\033[32m\]'
  symbol=🐧
  brackets_color='\[\033[1;31m\]'
  dir_color='\[\033[1;33m\]'
fi

PS0='\n'
PS1='\n'\
${brackets_color}'┌──['\
${user_color}'\u'\
${symbol}\
${hostname_color}'\h'\
${brackets_color}']-('\
${dir_color}'\w'\
${brackets_color}')'\
'\n'${brackets_color}'│'\
'\n'${brackets_color}'└─'\
${dir_color}'\$ '


### Banner perso ###
banner
echo
echo "+-------------------------+----------------------+"
echo "|         Alias           |     Fonctions        |"
echo "+-------------------------+----------------------+"
echo "| maj    ---> Mise à jour | cpoli [File_dan] D>O |"
echo "| oli    ---> SSH         | olicp [File_oli] D<O |"
echo "| pve1   ---> SSH         | pong     Test réseau |"
echo "| omv    ---> SSH         | banner   Info sys    |"
echo "| duino  ---> SSH         +----------------------+"
echo "| rasp   ---> SSH         |"
echo "| next   ---> SSH         |"
echo "| pveon  ---> Wake On Lan |"
echo "+-------------------------+"
echo
pong
